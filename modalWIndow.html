<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>modalWindow</title>
	<style>
		body {
			height:2000px;
		}
		#mask {
			width: 100%;
			height: 100%;
			opacity: 0.4;   /*半透明*/
			filter: alpha(opacity = 40);  /*ie 6半透明*/
			background-color: black;
			position: fixed;
			top: 0;
			left: 0;
			display: none;
		}
		#show {
			width: 300px;
			height: 300px;
			background-color: #fff;
			position: fixed;
			left: 50%;
			top: 50%;
			margin: -150px 0 0 -150px;
			display: none;
		}
	</style>
</head>
<body>
<a href="javascript:;" class="register" id="register">注册</a>
<a href="javascript:;" id="login" >登录</a>
<div id="mask"></div>
<div id="show"></div>
<script src="compatible.js"></script>
<script>
	var login = document.getElementById('login');
	var show = document.getElementById('show');
	var mask = document.getElementById('mask');
	login.onclick = function (e) {
		e = getEvent(e);
		e.stopPropagation();

		show.style.display = 'block';
		mask.style.display = 'block';
		document.documentElement.style.overflow = 'hidden';
	};

	document.onclick = function (e) {
		e = getEvent(e);
		var targetId = getTargetIdWithEvent(e);
		if (targetId !== 'show') {
			show.style.display = 'none';
			mask.style.display = 'none';
			document.documentElement.style.overflow = 'visible';
		}
	}
</script>
</body>
</html>
